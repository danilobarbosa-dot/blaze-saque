<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Blaze ‚Äì Suporte Unificado</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #ffffff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .box {
      width: 450px;
      border: 2px solid #e10600;
      border-radius: 10px;
      padding: 24px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      text-align: center;
      overflow-y: auto;
      max-height: 95vh;
    }

    h2 {
      color: #e10600;
      margin-bottom: 16px;
    }

    p {
      color: #333;
      line-height: 1.5;
      text-align: left;
    }

    ul {
      text-align: left;
      color: #333;
    }

    input {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      box-sizing: border-box;
    }

    a {
      color: #e10600;
      font-weight: bold;
      text-decoration: none;
    }

    button {
      width: 100%;
      padding: 14px;
      margin: 10px 0;
      border: none;
      border-radius: 6px;
      background: #e10600;
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background: #b00500;
    }

    .secondary {
      background: #555;
    }

    .secondary:hover {
      background: #333;
    }

    pre {
      background: #f7f7f7;
      padding: 15px;
      white-space: pre-wrap;
      text-align: left;
      font-size: 13px;
      border: 1px solid #ddd;
      margin-top: 10px;
    }

    .logo-area {
      margin-top: 20px;
      text-align: center;
    }

    .logo-area img {
      width: 100px;
      opacity: 0.9;
    }
    
    .info {
      font-size: 14px;
      margin-top: 15px;
    }
  </style>
</head>
<body>

<div class="box" id="app"></div>

<script>
const app = document.getElementById("app");

function tela(conteudo) {
  app.innerHTML = conteudo;
}

/* ===================== MENU PRINCIPAL ===================== */
function menu() {
  tela(`
    <h2>Fluxos de Atendimento</h2>
    <p>Selecione o tipo de atendimento:</p>

    <button onclick="inicioSaque()">üí∞ Problemas de Saque</button>
    <button onclick="inicioJR()">üéØ Jogo Respons√°vel</button>
    <button onclick="inicioCashback()">üßÆ C√°lculo Individual Cashback</button>
    
    <div class="logo-area">
      <img src="https://logodownload.org/wp-content/uploads/2022/08/blaze-logo-0.png">
    </div>
  `);
}

/* ===================== PROBLEMAS DE SAQUE (RESTAURADO) ===================== */
function inicioSaque() {
  tela(`
    <h2>Problemas de Saque</h2>
    <p>O cliente recebeu o saque?</p>
    <button onclick="saqueRecebido()">Sim</button>
    <button onclick="tempoSaque()">N√£o</button>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
    <div class="logo-area">
      <img src="https://logodownload.org/wp-content/uploads/2022/08/blaze-logo-0.png">
    </div>
  `);
}

function saqueRecebido() {
  tela(`
    <h2>√ìtimo!</h2>
    <p>
      Os saques podem levar de <b>2 at√© 48 horas</b> para que nosso intermedi√°rio
      financeiro conclua o processamento.<br><br>
      Oriente sempre o cliente a aguardar o prazo padr√£o.
    </p>
    <button class="secondary" onclick="inicioSaque()">Reiniciar atendimento</button>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
    <div class="logo-area">
      <img src="https://logodownload.org/wp-content/uploads/2022/08/blaze-logo-0.png">
    </div>
  `);
}

function tempoSaque() {
  tela(`
    <h2>Tempo do Saque</h2>
    <p>H√° quanto tempo o saque foi solicitado?</p>
    <button onclick="statusSaque()">Menos de 48 horas</button>
    <button onclick="saque48()">Mais de 48 horas</button>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
  `);
}

function statusSaque() {
  tela(`
    <h2>Status do Saque</h2>
    <p>Qual o status do saque no sistema?</p>
    <button onclick="pending()">Pending Review / Waiting Input</button>
    <button onclick="refunded()">Refunded</button>
    <button onclick="complete()">Complete</button>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
  `);
}

function pending() {
  tela(`<h2>Saque em an√°lise</h2><p>Oriente o cliente a aguardar o prazo padr√£o.<br><br>Envie o atalho <b>/prazo saque</b>.</p><button class="secondary" onclick="menu()">Voltar ao menu</button>`);
}

function refunded() {
  tela(`<h2>Saque reembolsado</h2><p>O saque foi reembolsado a pedido do usu√°rio. Oriente o cliente a solicitar novamente e enviar o atalho <b>/prazo saque</b>.</p><button class="secondary" onclick="menu()">Voltar ao menu</button>`);
}

function complete() {
  tela(`<h2>Saque conclu√≠do</h2><p>O valor j√° foi enviado ao banco. Oriente a verificar o extrato ou utilizar <b>/contact form</b>.</p><button class="secondary" onclick="menu()">Voltar ao menu</button>`);
}

function saque48() {
  tela(`
    <h2>Saque acima de 48 horas</h2>
    <p>Se status for <b>Pending/Waiting</b>, preencha o formul√°rio de transa√ß√µes:</p>
    <p><a href="https://support.blaze-help.com/hc/pt-br/articles/13980562814492-Base-Chat-Transaction-Issues-Form" target="_blank">Acessar formul√°rio</a></p>
    <p>Se status for <b>Complete</b>, use o formul√°rio de contato:</p>
    <p><a href="https://docs.google.com/document/d/19_tKhSg62ZGcmtLplxcYjoGRfxt43z5FfuG476dNE50/edit" target="_blank">Formul√°rio de Contato</a></p>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
  `);
}

/* ===================== JOGO RESPONS√ÅVEL ===================== */
function inicioJR() {
  tela(`
    <h2>Jogo Respons√°vel</h2>
    <p>O cliente mencionou algo relacionado a apostas e problemas pessoais?</p>
    <button onclick="naoJR()">N√£o</button>
    <button onclick="classificacaoJR()">Sim</button>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
  `);
}

function naoJR() {
  tela(`<h2>Orienta√ß√£o</h2><p>Siga o atendimento normalmente.</p><button class="secondary" onclick="menu()">Voltar ao menu</button>`);
}

function classificacaoJR() {
  tela(`
    <h2>Classifica√ß√£o de Risco</h2>
    <button onclick="jrBaixo()">üü¢ Risco Baixo</button>
    <button onclick="jrMedio()">üü° Risco M√©dio</button>
    <button onclick="jrAlto()">üü† Risco Alto</button>
    <button onclick="jrCritico()">üî¥ Risco Cr√≠tico</button>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
  `);
}

function jrAlto() {
  tela(`<h2>üü† Risco Alto</h2><p>Enviar script do fluxo, usar tag <b>responsible gambling</b> e encaminhar ao supervisor.</p><button class="secondary" onclick="menu()">Voltar ao menu</button>`);
}

function jrCritico() {
  tela(`<h2>üî¥ Risco Cr√≠tico</h2><p>Enviar script do fluxo, usar tag <b>responsible gambling</b> e encaminhar ao supervisor.</p><button class="secondary" onclick="menu()">Voltar ao menu</button>`);
}

/* ===================== CASHBACK ===================== */
function inicioCashback() {
  tela(`
    <h2>C√°lculo Individual Cashback</h2>
    <p><b>Preencha os campos:</b></p>
    <div style="text-align: left; font-size: 13px;">
      Apostado real (real_bet): <input id="real_bet" type="number" step="0.01">
      Ganho real (real_won): <input id="real_won" type="number" step="0.01">
      Recompensas (sell_amount): <input id="sell_amount" type="number" step="0.01">
      B√¥nus convertido (transfer_amount): <input id="transfer_amount" type="number" step="0.01">
      Cashback anterior (last_week_cashback): <input id="last_week_cashback" type="number" step="0.01">
      Saques (withdrawals_amount): <input id="withdrawals_amount" type="number" step="0.01">
      Rakeback di√°rio (daily_rakeback_amount): <input id="daily_rakeback_amount" type="number" step="0.01">
      Reward Cashback (cashback_reward_amount): <input id="cashback_reward_amount" type="number" step="0.01">
      Reward Rakeback (rakeback_reward_amount): <input id="rakeback_reward_amount" type="number" step="0.01">
      Free Spins (softswiss_free_spins_amount): <input id="softswiss_free_spins_amount" type="number" step="0.01">
    </div>
    <button onclick="gerarResumo()">Pronto</button>
    <button class="secondary" onclick="menu()">Voltar ao menu</button>
    <div id="resultado"></div>
  `);
}

function gerarResumo() {
  const ids = ["real_bet", "real_won", "sell_amount", "transfer_amount", "last_week_cashback", "withdrawals_amount", "daily_rakeback_amount", "cashback_reward_amount", "rakeback_reward_amount", "softswiss_free_spins_amount"];
  const labels = ["Apostado em dinheiro real (real_bet)", "Ganho em dinheiro real (real_won)", "Recompensas recebidas/vendidas (sell_amount)", "B√¥nus convertidos em saldo real (transfer_amount)", "Cashback da semana anterior (last_week_cashback)", "Saques considerados no c√°lculo (withdrawals_amount)", "Rakeback di√°rio recebido (daily_rakeback_amount)", "Recompensa de cashback recebida no per√≠odo (cashback_reward_amount)", "Recompensa de rakeback recebida (rakeback_reward_amount)", "Ganhos de Free Spins/rodadas gr√°tis (softswiss_free_spins_amount)"];

  let valoresTexto = "";
  ids.forEach((id, index) => {
    const val = document.getElementById(id).value || "0.00";
    valoresTexto += `${labels[index]}: R$ ${parseFloat(val).toFixed(2)}\n`;
  });

  const textoFinal = `√â importante que saiba que o cashback semanal n√£o √© um ganho sobre o total de perdas que teve durante a semana.

Para receb√™-lo, durante a semana precisa ter tido mais perdas do que ganhos, e √© a partir dessa diferen√ßa que √© tirada sua porcentagem de cashback.

Aqui v√£o em detalhes os valores da sua semana:

${valoresTexto}

( Mais informa√ß√µes sobre como funciona o calculo do cashback em https://support.blaze-help.com/hc/pt-br/articles/360007716017-Como-funciona-o-cashback-reembolso )`;

  document.getElementById("resultado").innerHTML = `
    <pre id="textoParaCopiar">${textoFinal}</pre>
    <button id="btnCopiar" onclick="executarCopia()">Copiar Mensagem</button>
  `;
}

/* FUN√á√ÉO DE C√ìPIA CORRIGIDA */
function executarCopia() {
  const texto = document.getElementById("textoParaCopiar").innerText;
  
  // Tenta o m√©todo moderno
  if (navigator.clipboard && navigator.clipboard.writeText) {
    navigator.clipboard.writeText(texto).then(() => {
      sucessoCopia();
    });
  } else {
    // Fallback para navegadores antigos
    const areaTexto = document.createElement("textarea");
    areaTexto.value = texto;
    document.body.appendChild(areaTexto);
    areaTexto.select();
    document.execCommand("copy");
    document.body.removeChild(areaTexto);
    sucessoCopia();
  }
}

function sucessoCopia() {
  const btn = document.getElementById("btnCopiar");
  btn.innerText = "‚úÖ Copiado!";
  btn.style.background = "#28a745";
  setTimeout(() => {
    btn.innerText = "Copiar Mensagem";
    btn.style.background = "#e10600";
  }, 2000);
}

/* START */
menu();
</script>

</body>
</html>
